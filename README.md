# Цифровой калькулятор
Курсовой проет по предмету "Информационно-управляющие системы".
### Ссылки
- Google Drive директория с материалами проекта [[link](https://drive.google.com/drive/folders/0B8BBveUPbuVYdWFFa1RsMThxa3M)]
- Раздел на форуме [[link](http://embedded.ifmo.ru/forum/viewforum.php?f=9)]
- Задание на курсовую [[link](http://embedded.ifmo.ru/forum/download/file.php?id=814)]
- Репозиторий с исходниками [[link](https://github.com/bildeyko/calc_sdk1.1)]
- Мануал по GM3P [[link](http://embedded.ifmo.ru/sdk/sdk11/soft/gm3p/gm3p_user_manual.pdf)]
- Документация и спецификация SDK-1.1 [[link](http://embedded.ifmo.ru/index.php/support/sdk-11)]
- Методическое пособие по SDK-1.1 от УРФУ [[link](http://study.urfu.ru/Aid/Publication/12118/1/Kovalev.pdf)]

О Timer 2:   
- официальная документация (с. 33-34) [[link](http://www.analog.com/media/en/technical-documentation/data-sheets/ADUC812.pdf)]
- другие источники [[link](http://de.ifmo.ru/bk_netra/page.php?index=66&layer=1&tutindex=25)] [[link](http://nahid-embeddded.blogspot.ru/p/blog-page.html)]  

### Этапы

#### Этап 1. Разработка технического задания.
Теоретическая часть. Требуется выполнить обзор существующих технических решений (ИУС, контроллеров, моделей) по выбранной теме курсовой работы. Привести и сравнить основные типы применяемых решений, выделить их преимущества и недостатки.

#### Этап 2. Разработка архитектуры ИУС
Требуется описать с различных точек зрения особенности разрабатываемой ИУС.  
С точки зрения _пользователя_: пользование контроллером, логика работы в различных режимах; удобство, эргономика, и т.п.  
С точки зрения _разработчика_: используемые методы и модели программирования, способы управления ресурсами аппаратного
обеспечения; возможности по отладке ИУС в процессе разработки и эксплуатации; возможности расширения функциональности ИУС; структура программного обеспечения и функциональность его элементов.  
Приводятся пояснения и схемы, необходимые для понимания предлагаемой архитектуры ИУС.
Описание архитектуры рекомендуется выполнять с помощью диаграмм языка моделирования UML

#### Этап 3. Разработка программного обеспечения.
Приводится описание программного обеспечения разрабатываемой ИУС, описание логики построения драйверов внешних устройств и основной программы, их взаимодействия.

#### Этап 4. Отладка и тестирование встраиваемого программного обеспечения.
Приводится описание способов отладки и тестирования программного обеспечения разрабатываемой ИУС (отладочные каналы, типы сообщений).  
Приводятся наборы тестов, позволяющие сделать вывод о том, что ИУС функционирует согласно требованиям (действия по тестированию и ожидаемые результаты).

### Сборка  
#### Только заливка hex файла, собранного в Keil  
1. Keil должен был создать директорию Objects, в которой лежит calk.hex  
2. Запустить install.bat  

#### Компилятор С51  
**Программа, собранная таким способом, работает некорректно и непредсказуемо!**   
1. В build.bat указать правльный путь к компилятору С51 - переменная CDIR  
2. Запустить build.bat  
3. Проверить, чтобы преобразователь hex->bin вывел в консоль Начальный адрес равный 0x2100    
4. Результат сборки будет в директории bin   
5. Проверить файлы compile.msg и link.msg на наличие ошибок.

Результат сборки на консоли должен быть примерно следующий  

```
Скопировано файлов:         1.
Невозможно переместить несколько файлов в один файл.

OBJECT TO HEX FILE CONVERTER OH51 V2.7.0.0
COPYRIGHT KEIL ELEKTRONIK GmbH 1991 - 2001

GENERATING INTEL HEX FILE: calk.hex

OBJECT TO HEX CONVERSION COMPLETED.
** M3P v 1.8.5a

Hex->Bin конвертер, версия для ТОЛЬКО для одного сегмента 64К!
Файл HEX       : calk.hex
Файл BIN       : calk.bin
Начальный адрес: 0x2100** M3P v 1.8.5a
Open script file load.m3p

Open channel:com3 9600
Не могу открыть порт!
```

#### Компилятор SDCC
1. Скачать SDCC [[link](http://embedded.ifmo.ru/sdk/sdk11/soft/sdcc/sdcc-2.9.0-setup.exe)].  Именно версию 2.9.0, на версиях > 3.0 собрать не получилось  
2. make.exe лежит в ./UTILS, добавить эту директорию в path  
3. make  
4. Результат сборки будет в корне директории 
   
make - сборка проекта  
make clean - очистка   
make load - загрузка проекта в учебный стенд  
make term - вызов эмулятора терминала  
make dist - подготовка архива tar.gz  
